<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cultivo Epist√™mico ‚Äî Metodologia para Semantic v2</title>
<link href="https://fonts.googleapis.com/css2?family=Newsreader:ital,wght@0,300;0,400;0,600;0,700;1,300;1,400&family=DM+Mono:wght@300;400;500&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
/* === FLOATING NAV BAR === */
.method-nav {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 24px;
  height: 48px;
  background: rgba(6,7,11,0.85);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-bottom: 1px solid rgba(42,46,62,0.6);
  transition: transform 0.3s ease;
}
.method-nav .nav-brand {
  display: flex;
  align-items: center;
  gap: 10px;
  text-decoration: none;
  color: #f4f5f8;
}
.method-nav .nav-brand-icon {
  width: 28px;
  height: 28px;
  border-radius: 8px;
  background: linear-gradient(135deg, rgba(74,222,128,0.08), rgba(167,139,250,0.08));
  border: 1px solid rgba(74,222,128,0.2);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-family: 'DM Mono', monospace;
  font-weight: 500;
  color: #4ade80;
  flex-shrink: 0;
}
.method-nav .nav-brand-text {
  font-family: 'Newsreader', serif;
  font-size: 16px;
  font-weight: 600;
  letter-spacing: -0.02em;
}
.method-nav .nav-brand-text em {
  color: #4ade80;
  font-weight: 300;
  font-style: italic;
}
.method-nav .nav-links {
  display: flex;
  align-items: center;
  gap: 2px;
}
.method-nav .nav-link {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 14px;
  border-radius: 10px;
  text-decoration: none;
  color: #8b90a0;
  font-family: 'DM Sans', sans-serif;
  font-size: 13px;
  font-weight: 500;
  transition: all 0.15s ease;
}
.method-nav .nav-link:hover {
  background: #1a1d2a;
  color: #e4e7f0;
}
.method-nav .nav-link.active {
  background: rgba(74,222,128,0.08);
  color: #4ade80;
}
</style>
<style>
:root {
  --void: #06070b;
  --soil: #0c0d14;
  --earth: #12141e;
  --stone: #1a1d2a;
  --fog: #2a2e3e;
  --ash: #5c6172;
  --bone: #8b90a0;
  --skin: #b8bcc8;
  --milk: #e4e7f0;
  --snow: #f4f5f8;
  --seed: #4ade80;
  --seed-dim: rgba(74,222,128,0.08);
  --sprout: #22d3ee;
  --sprout-dim: rgba(34,211,238,0.08);
  --sun: #fbbf24;
  --sun-dim: rgba(251,191,36,0.08);
  --prune: #f87171;
  --prune-dim: rgba(248,113,113,0.06);
  --pollen: #a78bfa;
  --pollen-dim: rgba(167,139,250,0.08);
  --fruit: #fb923c;
  --fruit-dim: rgba(251,146,60,0.08);
  --decay: #6b7280;
}

* { margin:0; padding:0; box-sizing:border-box; }
html { scroll-behavior: smooth; }

body {
  background: var(--void);
  color: var(--skin);
  font-family: 'DM Sans', -apple-system, sans-serif;
  font-size: 17px;
  line-height: 1.75;
  overflow-x: hidden;
}

/* === OPENING === */
.opening {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  padding: 60px 24px;
  position: relative;
}

.opening::after {
  content:'';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(ellipse 600px 400px at 30% 40%, rgba(74,222,128,0.04) 0%, transparent 100%),
    radial-gradient(ellipse 500px 300px at 70% 60%, rgba(167,139,250,0.03) 0%, transparent 100%);
  pointer-events: none;
}

.opening .provocation {
  font-family: 'Newsreader', serif;
  font-size: clamp(1.1rem, 2.5vw, 1.5rem);
  font-weight: 300;
  font-style: italic;
  color: var(--ash);
  max-width: 600px;
  position: relative;
  z-index: 1;
}

.opening h1 {
  font-family: 'Newsreader', serif;
  font-size: clamp(3rem, 7vw, 5.5rem);
  font-weight: 700;
  color: var(--snow);
  letter-spacing: -0.03em;
  line-height: 1.05;
  margin: 28px 0 12px;
  position: relative;
  z-index: 1;
}
.opening h1 em {
  font-style: italic;
  color: var(--seed);
  font-weight: 300;
}

.opening .subtitle {
  font-family: 'Newsreader', serif;
  font-size: 1.15rem;
  font-weight: 300;
  color: var(--bone);
  max-width: 580px;
  margin-top: 8px;
  position: relative;
  z-index: 1;
}

.scroll-hint {
  position: absolute;
  bottom: 32px;
  left: 50%;
  transform: translateX(-50%);
  font-family: 'DM Mono', monospace;
  font-size: 0.7rem;
  color: var(--ash);
  letter-spacing: 0.15em;
  text-transform: uppercase;
  animation: breathe 3s ease-in-out infinite;
}
@keyframes breathe { 0%,100%{opacity:0.3} 50%{opacity:0.8} }

/* === MANIFESTO === */
.manifesto {
  max-width: 680px;
  margin: 0 auto;
  padding: 80px 24px 60px;
}

.manifesto h2 {
  font-family: 'Newsreader', serif;
  font-size: 1.8rem;
  font-weight: 700;
  color: var(--milk);
  margin-bottom: 20px;
}

.manifesto p {
  margin: 14px 0;
  color: var(--skin);
}

.manifesto .contrast {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  margin: 28px 0;
}

.manifesto .contrast .side {
  padding: 20px;
  border-radius: 12px;
}
.manifesto .contrast .old {
  background: rgba(248,113,113,0.04);
  border: 1px solid rgba(248,113,113,0.12);
}
.manifesto .contrast .new {
  background: rgba(74,222,128,0.04);
  border: 1px solid rgba(74,222,128,0.12);
}
.manifesto .contrast .side .tag {
  font-family: 'DM Mono', monospace;
  font-size: 0.65rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin-bottom: 8px;
}
.manifesto .contrast .old .tag { color: var(--prune); }
.manifesto .contrast .new .tag { color: var(--seed); }
.manifesto .contrast .side .statement {
  font-family: 'Newsreader', serif;
  font-size: 1.05rem;
  font-weight: 400;
  line-height: 1.5;
}
.manifesto .contrast .old .statement { color: var(--bone); }
.manifesto .contrast .new .statement { color: var(--milk); }

.metaphor-block {
  margin: 32px 0;
  padding: 24px;
  border-radius: 12px;
  background: var(--earth);
  border: 1px solid var(--stone);
  position: relative;
  overflow: hidden;
}
.metaphor-block::before {
  content: '';
  position: absolute;
  top: 0; left: 0;
  width: 3px; height: 100%;
  background: linear-gradient(to bottom, var(--seed), var(--pollen));
}
.metaphor-block .mq {
  font-family: 'Newsreader', serif;
  font-size: 1.2rem;
  font-weight: 400;
  font-style: italic;
  color: var(--milk);
  padding-left: 16px;
}
.metaphor-block .mattr {
  font-family: 'DM Mono', monospace;
  font-size: 0.72rem;
  color: var(--ash);
  padding-left: 16px;
  margin-top: 8px;
}

/* === LIFECYCLE SECTION === */
.lifecycle {
  max-width: 720px;
  margin: 0 auto;
  padding: 40px 24px 80px;
}

.lifecycle > h2 {
  font-family: 'Newsreader', serif;
  font-size: 2rem;
  font-weight: 700;
  color: var(--snow);
  text-align: center;
  margin-bottom: 8px;
}
.lifecycle > .intro {
  text-align: center;
  color: var(--bone);
  font-size: 0.95rem;
  margin-bottom: 40px;
}

/* STAGE */
.stage {
  margin-bottom: 52px;
  position: relative;
  scroll-margin-top: 60px;
}

.stage-header {
  display: flex;
  align-items: center;
  gap: 14px;
  margin-bottom: 12px;
}

.stage-num {
  width: 42px; height: 42px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'DM Mono', monospace;
  font-size: 0.75rem;
  font-weight: 500;
  flex-shrink: 0;
}

.stage h3 {
  font-family: 'Newsreader', serif;
  font-size: 1.4rem;
  font-weight: 600;
  color: var(--milk);
}
.stage h3 em {
  font-weight: 300;
  font-style: italic;
}

.stage .essence {
  font-family: 'Newsreader', serif;
  font-style: italic;
  color: var(--bone);
  font-size: 0.95rem;
  margin-bottom: 12px;
  padding-left: 56px;
}

.stage .body {
  padding-left: 56px;
}

.stage .body p { margin: 8px 0; font-size: 0.95rem; }

/* Stage colors */
.s1 .stage-num { background: var(--seed-dim); color: var(--seed); border: 1px solid rgba(74,222,128,0.25); }
.s2 .stage-num { background: var(--sprout-dim); color: var(--sprout); border: 1px solid rgba(34,211,238,0.25); }
.s3 .stage-num { background: var(--sun-dim); color: var(--sun); border: 1px solid rgba(251,191,36,0.25); }
.s4 .stage-num { background: var(--prune-dim); color: var(--prune); border: 1px solid rgba(248,113,113,0.25); }
.s5 .stage-num { background: var(--pollen-dim); color: var(--pollen); border: 1px solid rgba(167,139,250,0.25); }
.s6 .stage-num { background: var(--fruit-dim); color: var(--fruit); border: 1px solid rgba(251,146,60,0.25); }

/* detail block inside a stage */
.detail {
  margin: 14px 0;
  padding: 14px 16px;
  border-radius: 8px;
  background: var(--soil);
  border: 1px solid var(--stone);
  font-size: 0.88rem;
}
.detail .dlabel {
  font-family: 'DM Mono', monospace;
  font-size: 0.65rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin-bottom: 6px;
}
.detail code {
  font-family: 'DM Mono', monospace;
  font-size: 0.82rem;
  background: rgba(0,0,0,0.3);
  padding: 1px 5px;
  border-radius: 3px;
}

.s1 .detail .dlabel { color: var(--seed); }
.s2 .detail .dlabel { color: var(--sprout); }
.s3 .detail .dlabel { color: var(--sun); }
.s4 .detail .dlabel { color: var(--prune); }
.s5 .detail .dlabel { color: var(--pollen); }
.s6 .detail .dlabel { color: var(--fruit); }

/* DIALOGUE EXAMPLE */
.dialogue {
  margin: 16px 0;
  padding: 16px;
  border-radius: 10px;
  background: var(--earth);
  border: 1px solid var(--stone);
  font-size: 0.88rem;
}
.dialogue .line {
  margin: 6px 0;
  display: flex;
  gap: 10px;
  align-items: flex-start;
}
.dialogue .who {
  font-family: 'DM Mono', monospace;
  font-size: 0.7rem;
  font-weight: 500;
  min-width: 60px;
  padding-top: 3px;
  flex-shrink: 0;
}
.dialogue .who.human { color: var(--sprout); }
.dialogue .who.system { color: var(--pollen); }
.dialogue .what {
  color: var(--skin);
  line-height: 1.5;
}
.dialogue .what em { font-style: italic; color: var(--bone); }
.dialogue .what strong { color: var(--milk); font-weight: 600; }

/* === QUESTIONS SECTION === */
.questions {
  max-width: 680px;
  margin: 0 auto;
  padding: 40px 24px 80px;
}

.questions h2 {
  font-family: 'Newsreader', serif;
  font-size: 1.8rem;
  font-weight: 700;
  color: var(--snow);
  margin-bottom: 20px;
}

.q-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin: 20px 0;
}

.q-card {
  padding: 16px;
  border-radius: 10px;
  background: var(--soil);
  border: 1px solid var(--stone);
}
.q-card .q-role {
  font-family: 'DM Mono', monospace;
  font-size: 0.65rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--fruit);
  margin-bottom: 4px;
}
.q-card .q-question {
  font-family: 'Newsreader', serif;
  font-size: 0.95rem;
  font-style: italic;
  color: var(--milk);
  margin-bottom: 6px;
  line-height: 1.4;
}
.q-card .q-how {
  font-size: 0.8rem;
  color: var(--ash);
  line-height: 1.4;
}

/* === SIMULATION === */
.simulation {
  max-width: 780px;
  margin: 0 auto;
  padding: 40px 24px 60px;
}

.simulation h2 {
  font-family: 'Newsreader', serif;
  font-size: 1.8rem;
  font-weight: 700;
  color: var(--snow);
  text-align: center;
  margin-bottom: 8px;
}
.simulation .sim-intro {
  text-align: center;
  color: var(--bone);
  font-size: 0.92rem;
  margin-bottom: 28px;
}

.sim-container {
  position: relative;
  width: 100%;
  height: 480px;
  background: var(--soil);
  border: 1px solid var(--stone);
  border-radius: 16px;
  overflow: hidden;
}

.sim-canvas {
  width: 100%;
  height: 100%;
}

.sim-controls {
  position: absolute;
  bottom: 16px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 8px;
  z-index: 10;
}

.sim-btn {
  padding: 8px 18px;
  border-radius: 20px;
  border: 1px solid var(--stone);
  background: rgba(12,13,20,0.9);
  backdrop-filter: blur(8px);
  color: var(--skin);
  font-family: 'DM Mono', monospace;
  font-size: 0.72rem;
  cursor: pointer;
  transition: all 0.2s;
  letter-spacing: 0.04em;
}
.sim-btn:hover { border-color: var(--seed); color: var(--milk); }
.sim-btn.active { border-color: var(--seed); color: var(--seed); background: var(--seed-dim); }

.sim-info {
  position: absolute;
  top: 16px;
  left: 16px;
  font-family: 'DM Mono', monospace;
  font-size: 0.7rem;
  color: var(--ash);
  z-index: 10;
  line-height: 1.6;
}
.sim-info .val { color: var(--seed); }

/* === CLOSING === */
.closing {
  max-width: 680px;
  margin: 0 auto;
  padding: 60px 24px 120px;
  text-align: center;
}

.closing h2 {
  font-family: 'Newsreader', serif;
  font-size: 1.8rem;
  font-weight: 700;
  color: var(--snow);
  margin-bottom: 16px;
}
.closing p {
  color: var(--bone);
  margin: 10px 0;
  font-size: 0.95rem;
}
.closing .final-thought {
  font-family: 'Newsreader', serif;
  font-size: 1.2rem;
  font-style: italic;
  color: var(--milk);
  margin-top: 28px;
  padding: 24px;
  border-radius: 12px;
  background: var(--earth);
  border: 1px solid var(--stone);
}

@media(max-width: 700px) {
  .manifesto .contrast { grid-template-columns: 1fr; }
  .q-grid { grid-template-columns: 1fr; }
  .stage .essence, .stage .body { padding-left: 0; }
  .sim-container { height: 380px; }
}
</style>
</head>
<body>

<!-- NAVIGATION -->
<nav class="method-nav">
  <a href="/" class="nav-brand">
    <span class="nav-brand-icon">CE</span>
    <span class="nav-brand-text">Cultivo <em>Epist√™mico</em></span>
  </a>
  <div class="nav-links">
    <a href="/" class="nav-link">
      <span>üí¨</span>
      <span>Chat</span>
    </a>
    <a href="/metodologia" class="nav-link active">
      <span>üìñ</span>
      <span>Metodologia</span>
    </a>
  </div>
</nav>

<!-- OPENING -->
<section class="opening" style="padding-top: 108px;">
  <p class="provocation">Ontologias pedem para voc√™ desenhar o mapa.<br>Mas e se o territ√≥rio estivesse vivo?</p>
  <h1>Cultivo<br><em>Epist√™mico</em></h1>
  <p class="subtitle">Uma metodologia para representa√ß√£o de conhecimento vivo ‚Äî onde humanos n√£o projetam esquemas, mas cultivam jardins de entendimento que crescem, morrem, e se auto-organizam.</p>
  <span class="scroll-hint">‚Üì role para explorar</span>
</section>

<!-- MANIFESTO -->
<section class="manifesto">
  <h2>A Invers√£o Fundamental</h2>

  <p>Toda ferramenta de representa√ß√£o de conhecimento que existe hoje ‚Äî OWL, RDF, knowledge graphs, ER diagrams ‚Äî comete o mesmo erro: trata conhecimento como <strong>mat√©ria morta</strong>. Algo que voc√™ extrai, cataloga e arquiva. Como um entomologista que espeta borboletas num quadro.</p>

  <p>A Semantic parte de uma premissa oposta: conhecimento √© um <strong>organismo vivo</strong>. Ele nasce fraco e incerto. Ganha for√ßa com evid√™ncia. Enfraquece quando ignorado. Morre quando irrelevante. E ‚Äî o mais importante ‚Äî se reproduz: gera conhecimento novo que ningu√©m explicitamente criou.</p>

  <div class="contrast">
    <div class="side old">
      <div class="tag">Ontologia Tradicional</div>
      <div class="statement">
        Pergunte: "Quais s√£o as entidades do seu dom√≠nio?"<br><br>
        Humano vira <strong>arquiteto</strong>.<br>
        Projeta antes de entender.<br>
        Esquema fixo, inst√¢ncias passivas.<br>
        Tudo que √© definido permanece para sempre.<br>
        Conflito = erro a resolver.
      </div>
    </div>
    <div class="side new">
      <div class="tag">Cultivo Epist√™mico</div>
      <div class="statement">
        Pergunte: "O que aconteceu hoje?"<br><br>
        Humano vira <strong>jardineiro</strong>.<br>
        Entende enquanto cultiva.<br>
        Estrutura emerge, conhecimento √© vivo.<br>
        O que n√£o √© nutrido, morre naturalmente.<br>
        Conflito = tens√£o f√©rtil a observar.
      </div>
    </div>
  </div>

  <div class="metaphor-block">
    <div class="mq">"Ningu√©m pede para uma planta se justificar. Voc√™ rega, observa, poda. O jardim revela verdades que o jardineiro nunca planejou."</div>
    <div class="mattr">‚Äî Princ√≠pio fundador do Cultivo Epist√™mico</div>
  </div>

  <p>O que segue √© a descri√ß√£o completa de um processo que n√£o existe em lugar nenhum. N√£o √© uma adapta√ß√£o de ontologia design. N√£o √© knowledge engineering requentado. √â um protocolo de intera√ß√£o humano-sistema desenhado especificamente para as propriedades √∫nicas da Semantic: TruthValues revis√°veis, energia com decaimento, Links N-√°rios, e sync distribu√≠do sem coordena√ß√£o central.</p>
</section>

<!-- LIFECYCLE -->
<section class="lifecycle">
  <h2>Os 6 Est√°gios do Cultivo</h2>
  <p class="intro">Cada est√°gio corresponde a uma propriedade √∫nica da Semantic que n√£o existe em nenhum outro sistema.</p>

  <!-- STAGE 1 -->
  <div class="stage s1" id="s1">
    <div class="stage-header">
      <div class="stage-num">01</div>
      <h3>Semeadura ‚Äî <em>Narrativa Livre</em></h3>
    </div>
    <div class="essence">O humano n√£o desenha ‚Äî conta hist√≥rias. O sistema escuta e cristaliza.</div>
    <div class="body">
      <p>Em vez de abrir um editor de ontologia e definir "classes" e "propriedades", o humano simplesmente <strong>narra</strong>. Fala sobre o dia, descreve um problema, conta uma reuni√£o, reclama de um processo. A narrativa √© a interface.</p>

      <p>O sistema (com IA) extrai proto-Concepts e proto-Links da narrativa. Mas aqui est√° a diferen√ßa crucial: <strong>tudo come√ßa com confian√ßa baixa</strong>. Um Concept extra√≠do de uma √∫nica narrativa nasce com <code>TruthValue ‚ü®0.5, 0.1‚ü©</code> ‚Äî o sistema est√° dizendo "acho que isso existe, mas n√£o tenho certeza".</p>

      <div class="dialogue">
        <div class="line"><span class="who human">Humano</span><span class="what">"Ontem o Jo√£o da log√≠stica me ligou porque o embarque da China atrasou por causa da temporada de tuf√µes. Isso vai atrasar a entrega do Q3 pro Cliente Alfa."</span></div>
        <div class="line"><span class="who system">Sistema</span><span class="what">
          <em>Cristalizando...</em><br>
          ‚Ä¢ <strong>Jo√£o</strong> ‚Üí Concept ‚ü®0.9, 0.15‚ü© <em>(nome pr√≥prio, alta freq, baixa conf pois 1 fonte)</em><br>
          ‚Ä¢ <strong>Log√≠stica</strong> ‚Üí Concept ‚ü®0.8, 0.12‚ü©<br>
          ‚Ä¢ <strong>Embarque China</strong> ‚Üí Concept ‚ü®0.7, 0.10‚ü©<br>
          ‚Ä¢ <strong>Tuf√µes</strong> ‚Üí Concept ‚ü®0.6, 0.08‚ü©<br>
          ‚Ä¢ <strong>Cliente Alfa</strong> ‚Üí Concept ‚ü®0.9, 0.15‚ü©<br>
          ‚Ä¢ <strong>Entrega Q3</strong> ‚Üí Concept ‚ü®0.85, 0.12‚ü©<br>
          ‚Ä¢ Link N=4: <strong>[Jo√£o ‚Üîrole:Subject, Embarque China ‚Üîrole:Object, Tuf√µes ‚Üîrole:Cause, Entrega Q3 ‚Üîrole:Affected]</strong> ‚Äî kind: Implication ‚ü®0.7, 0.10‚ü©
        </span></div>
      </div>

      <div class="detail">
        <div class="dlabel">Por que isso √© diferente</div>
        Nenhum sistema existente faz isso. Knowledge graphs pedem entidades e rela√ß√µes de antem√£o. NER (Named Entity Recognition) extrai entidades mas n√£o cria rela√ß√µes N-√°rias com pap√©is e graus de verdade. A Semeadura produz <strong>sementes de conhecimento</strong> ‚Äî n√£o fatos, n√£o dados ‚Äî sementes que podem crescer ou morrer.
      </div>

      <div class="detail">
        <div class="dlabel">Mapeamento Semantic</div>
        Cada narrativa gera um MerkleNode com payload <code>ConceptCreated</code> e <code>LinkFormed</code>. O HLC registra o momento exato. A energy inicial √© 0.7 (alta, porque √© recente). A confian√ßa √© baixa porque h√° apenas 1 fonte de evid√™ncia.
      </div>
    </div>
  </div>

  <!-- STAGE 2 -->
  <div class="stage s2" id="s2">
    <div class="stage-header">
      <div class="stage-num">02</div>
      <h3>Germina√ß√£o ‚Äî <em>Confirma√ß√£o Reflexiva</em></h3>
    </div>
    <div class="essence">O sistema prop√µe. O humano confirma, nega, ou nuan√ßa. Confian√ßa cresce.</div>
    <div class="body">
      <p>Aqui acontece algo que n√£o existe em nenhuma metodologia de engenharia de conhecimento: o sistema <strong>faz perguntas provocativas</strong> baseadas no que j√° cristalizou. N√£o perguntas gen√©ricas ("defina melhor") ‚Äî perguntas calibradas pelos TruthValues.</p>

      <p>O sistema prioriza perguntas sobre Concepts com <strong>alta energia mas baixa confian√ßa</strong> ‚Äî "coisas que parecem importantes mas sobre as quais sabemos pouco". Isso inverte o processo cognitivo: em vez do humano decidir o que √© importante, <strong>o sistema mostra o que parece importante e pergunta se realmente √©</strong>.</p>

      <div class="dialogue">
        <div class="line"><span class="who system">Sistema</span><span class="what"><em>Observa√ß√£o:</em> Voc√™ mencionou "atraso de embarque" 7 vezes esta semana, de 3 contextos diferentes. Mas "tuf√µes" apareceu em apenas 1. <strong>Os atrasos s√£o sempre causados pelo clima, ou h√° outras raz√µes?</strong></span></div>
        <div class="line"><span class="who human">Humano</span><span class="what">"Na verdade, a maioria dos atrasos √© por causa da burocracia alfandeg√°ria. Tuf√£o foi s√≥ este caso."</span></div>
        <div class="line"><span class="who system">Sistema</span><span class="what"><em>Atualizando...</em><br>
          ‚Ä¢ <strong>Burocracia Alfandeg√°ria</strong> ‚Üí novo Concept ‚ü®0.8, 0.35‚ü© <em>(confirma√ß√£o direta = boost de confian√ßa)</em><br>
          ‚Ä¢ Link: <strong>[Atraso Embarque ‚ÜíCause‚Üí Burocracia Alfandeg√°ria]</strong> ‚ü®0.8, 0.35‚ü©<br>
          ‚Ä¢ Link anterior <strong>[Atraso ‚ÜíCause‚Üí Tuf√µes]</strong> revisado: ‚ü®0.2, 0.30‚ü© <em>(baixou freq, subiu conf: "agora temos mais certeza de que tuf√£o √© causa RARA")</em>
        </span></div>
      </div>

      <div class="detail">
        <div class="dlabel">O Princ√≠pio da Confirma√ß√£o Reflexiva</div>
        O humano n√£o est√° "desenhando uma ontologia" ‚Äî est√° respondendo perguntas sobre sua pr√≥pria experi√™ncia. Cada resposta √© uma Evidence que alimenta o TruthValue via NARS revision rule. A estrutura emerge das respostas, n√£o de um design pr√©vio. O humano pensa que est√° "apenas conversando" ‚Äî na verdade est√° <strong>cultivando uma base de conhecimento</strong>.
      </div>

      <div class="detail">
        <div class="dlabel">As Tr√™s Perguntas do Germinador</div>
        <strong>1. "Isso ainda √© verdade?"</strong> ‚Äî Ataca Concepts com energia declinante. Se sim, refor√ßa. Se n√£o, decai mais r√°pido.<br>
        <strong>2. "Tem exce√ß√µes?"</strong> ‚Äî Gera Links de Inhibits/Catalyzes. Captura nu√¢ncia que ontologias perdem.<br>
        <strong>3. "Quem mais sabe sobre isso?"</strong> ‚Äî Identifica fontes de evid√™ncia futuras. Prepara para Poliniza√ß√£o (Stage 5).
      </div>
    </div>
  </div>

  <!-- STAGE 3 -->
  <div class="stage s3" id="s3">
    <div class="stage-header">
      <div class="stage-num">03</div>
      <h3>Fotoss√≠ntese ‚Äî <em>Infer√™ncia Emergente</em></h3>
    </div>
    <div class="essence">O sistema descobre o que ningu√©m disse explicitamente. Conhecimento novo nasce da composi√ß√£o.</div>
    <div class="body">
      <p>Este √© o est√°gio mais alien√≠gena ‚Äî e o mais poderoso. O motor de infer√™ncia NARS executa dedu√ß√£o, indu√ß√£o e abdu√ß√£o sobre os Links existentes e <strong>prop√µe conhecimento novo</strong> que nenhum humano declarou.</p>

      <p>Em ontologias, todo conhecimento foi explicitamente inserido por algu√©m. Na Semantic, o Inference Engine <strong>gera hip√≥teses</strong> ‚Äî com TruthValues calculados matematicamente ‚Äî que o humano pode ent√£o confirmar ou negar.</p>

      <div class="dialogue">
        <div class="line"><span class="who system">Sistema</span><span class="what"><em>Infer√™ncia encontrada (abdu√ß√£o):</em><br>
          Premissa 1: <strong>Burocracia Alfandeg√°ria ‚Üícausa‚Üí Atraso Embarque</strong> ‚ü®0.8, 0.35‚ü©<br>
          Premissa 2: <strong>Atraso Embarque ‚Üíafeta‚Üí Satisfa√ß√£o Cliente Alfa</strong> ‚ü®0.75, 0.28‚ü©<br>
          <strong>Hip√≥tese: Burocracia Alfandeg√°ria ‚Üíafeta‚Üí Satisfa√ß√£o Cliente Alfa</strong> ‚ü®0.6, 0.09‚ü©<br><br>
          <em>Voc√™ sabia que problemas alfandeg√°rios podem estar diretamente afetando a satisfa√ß√£o do Cliente Alfa? A evid√™ncia sugere uma conex√£o, mas com confian√ßa baixa (0.09). O que acha?</em></span></div>
        <div class="line"><span class="who human">Humano</span><span class="what">"Faz total sentido. Na verdade, o Cliente Alfa reclamou exatamente disso na √∫ltima call trimestral."</span></div>
        <div class="line"><span class="who system">Sistema</span><span class="what"><em>Confirma√ß√£o humana = nova Evidence positiva.</em><br>
          Link revisado: <strong>[Burocracia ‚Üíafeta‚Üí Satisfa√ß√£o Cliente Alfa]</strong> ‚ü®0.75, 0.32‚ü©<br>
          <em>Confian√ßa saltou de 0.09 para 0.32 com a confirma√ß√£o direta.</em></span></div>
      </div>

      <div class="detail">
        <div class="dlabel">Por que isso n√£o existe em nenhum outro sistema</div>
        Knowledge graphs podem fazer path traversal, mas n√£o prop√µem NOVO conhecimento com grau de certeza calculado. Sistemas de regras (Prolog, SWRL) deduzem sobre fatos bin√°rios. A Semantic infere sobre rela√ß√µes N-√°rias com TruthValues cont√≠nuos ‚Äî e cada infer√™ncia carrega uma medida matem√°tica de qu√£o confi√°vel ela √©. O humano pode confiar no c√°lculo ou sobreescrever com evid√™ncia direta.
      </div>
    </div>
  </div>

  <!-- STAGE 4 -->
  <div class="stage s4" id="s4">
    <div class="stage-header">
      <div class="stage-num">04</div>
      <h3>Poda ‚Äî <em>Morte Natural</em></h3>
    </div>
    <div class="essence">Conhecimento que ningu√©m usa, morre. E isso √© uma feature, n√£o um bug.</div>
    <div class="body">
      <p>Aqui est√° a propriedade mais radical da Semantic ‚Äî e a que mais diferencia o Cultivo Epist√™mico de qualquer outro m√©todo: <strong>o conhecimento tem metabolismo</strong>. A energia de cada Concept decai com o tempo. Se ningu√©m consulta, referencia, ou adiciona evid√™ncia, o Concept passa por Active ‚Üí Dormant ‚Üí Fading ‚Üí Archived.</p>

      <p>Em uma ontologia, um conceito definido em 2019 est√° l√° para sempre, ocupando espa√ßo cognitivo e computacional. Na Semantic, se "Protocolo de Meeting do Zoom" n√£o √© mencionado h√° 8 meses, ele vai perdendo energia. O sistema sinaliza: "Este conhecimento est√° morrendo. Quer salv√°-lo?"</p>

      <div class="dialogue">
        <div class="line"><span class="who system">Sistema</span><span class="what"><em>Alerta de Poda:</em> 23 Concepts entraram no estado Fading este m√™s. Os mais significativos:<br>
          ‚Ä¢ <strong>"Fornecedor Beta"</strong> ‚Äî nenhuma men√ß√£o em 6 meses (energy: 0.08)<br>
          ‚Ä¢ <strong>"Processo de Onboarding v1"</strong> ‚Äî substitu√≠do por v2? (energy: 0.05)<br>
          ‚Ä¢ <strong>"Meta de Revenue Q1"</strong> ‚Äî Q1 acabou, ainda relevante? (energy: 0.12)<br><br>
          <em>Deseja refor√ßar algum desses, ou deixar que sigam para Archived?</em></span></div>
        <div class="line"><span class="who human">Humano</span><span class="what">"Fornecedor Beta faliu. Pode arquivar. Onboarding v1 ‚Äî arquiva, temos o v2. Mas Meta de Revenue Q1 eu preciso para comparar com Q2, refor√ßa."</span></div>
      </div>

      <div class="detail">
        <div class="dlabel">O Espelho do Esquecimento Organizacional</div>
        A Poda revela algo que nenhum outro sistema mostra: <strong>o que a empresa est√° esquecendo</strong>. N√£o o que ela n√£o sabe (lacuna), mas o que ela SABIA e est√° deixando morrer. Isso √© informa√ß√£o estrat√©gica pura. Se "Customer Success Process" est√° perdendo energia, significa que ningu√©m est√° falando sobre atendimento ao cliente ‚Äî possivelmente um problema silencioso.
      </div>
    </div>
  </div>

  <!-- STAGE 5 -->
  <div class="stage s5" id="s5">
    <div class="stage-header">
      <div class="stage-num">05</div>
      <h3>Poliniza√ß√£o ‚Äî <em>Multi-Perspectiva Distribu√≠da</em></h3>
    </div>
    <div class="essence">Cada pessoa tem sua r√©plica. Quando sincronizam, contradi√ß√µes viram descobertas.</div>
    <div class="body">
      <p>Este est√°gio s√≥ existe porque a Semantic √© distribu√≠da via Merkle-CRDT. Cada pessoa na empresa tem sua pr√≥pria KnowledgeBase (r√©plica). Cada um semeia, germina, e poda seu pr√≥prio jardim. Quando duas r√©plicas sincronizam, algo extraordin√°rio acontece: <strong>contradi√ß√µes se tornam vis√≠veis</strong>.</p>

      <p>Em sistemas centralizados, se duas pessoas discordam, ou uma sobrescreve a outra, ou um admin "resolve o conflito". Na Semantic, ambas perspectivas coexistem com TruthValues diferentes ‚Äî e o Merge CRDT as combina matematicamente.</p>

      <div class="dialogue">
        <div class="line"><span class="who system">Sistema</span><span class="what"><em>Poliniza√ß√£o detectada ap√≥s sync de 3 r√©plicas:</em><br><br>
          <strong>Tens√£o #1: "Principal Causa de Atraso"</strong><br>
          ‚Ä¢ Log√≠stica (Jo√£o): Burocracia Alfandeg√°ria ‚ü®0.85, 0.45‚ü©<br>
          ‚Ä¢ Compras (Maria): Fornecedor Atrasado ‚ü®0.70, 0.38‚ü©<br>
          ‚Ä¢ Financeiro (Pedro): Libera√ß√£o de Pagamento ‚ü®0.60, 0.22‚ü©<br><br>
          <em>Tr√™s departamentos identificam causas diferentes. Nenhum est√° "errado" ‚Äî cada um observa o problema de seu √¢ngulo. A confian√ßa combinada sugere que Burocracia √© a causa mais evidenciada, mas n√£o dominante.</em><br><br>
          <strong>Consenso #1: "Cliente Alfa √© Priorit√°rio"</strong><br>
          ‚Ä¢ Combinado: ‚ü®0.95, 0.78‚ü© ‚Äî 3 fontes independentes concordam</span></div>
      </div>

      <div class="detail">
        <div class="dlabel">O Mapa de Tens√µes Organizacionais</div>
        Ap√≥s Poliniza√ß√£o, o sistema gera um <strong>Mapa de Tens√µes</strong> ‚Äî uma visualiza√ß√£o que mostra onde a organiza√ß√£o concorda (Consensos, alto confidence de m√∫ltiplas fontes) e onde discorda (Tens√µes, TruthValues divergentes). Isso √© ouro organizacional: n√£o √© um "report" ‚Äî √© um raio-X do entendimento coletivo.
      </div>
    </div>
  </div>

  <!-- STAGE 6 -->
  <div class="stage s6" id="s6">
    <div class="stage-header">
      <div class="stage-num">06</div>
      <h3>Colheita ‚Äî <em>Insight com Medida de Certeza</em></h3>
    </div>
    <div class="essence">O jardim maduro responde perguntas que ningu√©m sabia que precisava fazer.</div>
    <div class="body">
      <p>Ap√≥s ciclos de Semeadura ‚Üí Germina√ß√£o ‚Üí Fotoss√≠ntese ‚Üí Poda ‚Üí Poliniza√ß√£o, a KnowledgeBase atinge um estado que nenhum outro sistema produz: um <strong>mapa vivo do que a organiza√ß√£o sabe, quanto confia, e o que est√° esquecendo</strong>.</p>

      <p>A Colheita √© o momento de fazer perguntas ao jardim. Mas as respostas v√™m com algo que nenhum dashboard ou BI oferece: <strong>grau de certeza calculado</strong>.</p>

      <div class="dialogue">
        <div class="line"><span class="who human">Humano</span><span class="what">"Quais riscos amea√ßam a entrega do Q4?"</span></div>
        <div class="line"><span class="who system">Sistema</span><span class="what">
          <strong>Riscos por confian√ßa (traverse + inference):</strong><br><br>
          1. Burocracia Alfandeg√°ria ‚Üî Atraso ‚Üî Cliente Alfa<br>
          &nbsp;&nbsp;&nbsp;Confian√ßa: 0.72 ‚Äî <em>8 evid√™ncias de 3 fontes</em><br>
          &nbsp;&nbsp;&nbsp;Energia: 0.89 ‚Äî <em>mencionado ativamente</em><br><br>
          2. Fornecedor Gama ‚Üî Capacidade Reduzida ‚Üî Componente X<br>
          &nbsp;&nbsp;&nbsp;Confian√ßa: 0.45 ‚Äî <em>3 evid√™ncias de 1 fonte (apenas Compras)</em><br>
          &nbsp;&nbsp;&nbsp;Energia: 0.62 ‚Äî <em>mencionado mas declinando</em><br><br>
          3. ‚ö° <strong>INFERIDO</strong>: Rotatividade RH ‚Üî Perda Conhecimento ‚Üî Processo Cr√≠tico<br>
          &nbsp;&nbsp;&nbsp;Confian√ßa: 0.28 ‚Äî <em>infer√™ncia por abdu√ß√£o, sem confirma√ß√£o direta</em><br>
          &nbsp;&nbsp;&nbsp;Energia: 0.40 ‚Äî <em>alguns sinais mas poucas men√ß√µes</em><br>
          &nbsp;&nbsp;&nbsp;<em>‚Üí O sistema notou que 3 Concepts com "knowledge owner" √∫nico perderam energia ap√≥s a sa√≠da de um funcion√°rio. Hip√≥tese gerada automaticamente.</em>
        </span></div>
      </div>

      <div class="detail">
        <div class="dlabel">A Diferen√ßa entre Dado, Informa√ß√£o e Conhecimento Vivo</div>
        Um dashboard mostra: "4 entregas atrasadas este trimestre" (dado). Um BI mostra: "atrasos aumentaram 25% vs Q3" (informa√ß√£o). A Semantic mostra: "a causa prov√°vel √© burocracia alfandeg√°ria (72% confian√ßa, 8 evid√™ncias), h√° um risco emergente com Fornecedor Gama que s√≥ Compras sabe (45% confian√ßa, 1 fonte), e ATEN√á√ÉO: a sa√≠da do Pedro pode ter deixado 3 processos cr√≠ticos sem dono (28% confian√ßa, inferido)" ‚Äî isso √© <strong>conhecimento vivo com medida de certeza</strong>.
      </div>
    </div>
  </div>
</section>

<!-- QUESTIONS SECTION -->
<section class="questions">
  <h2>Perguntas que Nenhum Outro Sistema Responde</h2>
  <p>Cada papel organizacional ganha acesso a perguntas que eram imposs√≠veis antes:</p>

  <div class="q-grid">
    <div class="q-card">
      <div class="q-role">CEO</div>
      <div class="q-question">"O que minha empresa realmente sabe vs o que assume?"</div>
      <div class="q-how">Filtra por alta freq + baixa conf = suposi√ß√µes perigosas. Alta freq + alta conf = conhecimento s√≥lido.</div>
    </div>
    <div class="q-card">
      <div class="q-role">RH</div>
      <div class="q-question">"Que conhecimento morre quando essa pessoa sai?"</div>
      <div class="q-how">Concepts cujo √∫nico Evidence.source √© o ReplicaId desse funcion√°rio.</div>
    </div>
    <div class="q-card">
      <div class="q-role">Opera√ß√µes</div>
      <div class="q-question">"Que processo estamos esquecendo de manter?"</div>
      <div class="q-how">Concepts em estado Fading no Domain "opera√ß√µes" = conhecimento operacional morrendo.</div>
    </div>
    <div class="q-card">
      <div class="q-role">Vendas</div>
      <div class="q-question">"Onde nossa vis√£o de mercado difere da realidade?"</div>
      <div class="q-how">Tens√µes p√≥s-Poliniza√ß√£o: vis√£o interna ‚ü®f,c‚ü© vs evid√™ncia externa ‚ü®f,c‚ü©.</div>
    </div>
    <div class="q-card">
      <div class="q-role">P&D</div>
      <div class="q-question">"Que conex√µes ningu√©m viu ainda?"</div>
      <div class="q-how">Links gerados por Inference Engine com confian√ßa > 0.15 e 0 confirma√ß√µes humanas.</div>
    </div>
    <div class="q-card">
      <div class="q-role">Jur√≠dico</div>
      <div class="q-question">"Que riscos regulat√≥rios t√™m evid√™ncia fraca?"</div>
      <div class="q-how">Concepts no Domain "compliance" com alta energy mas baixa confidence = risco mal documentado.</div>
    </div>
  </div>
</section>

<!-- SIMULATION -->
<section class="simulation">
  <h2>Jardim Epist√™mico ‚Äî Visualiza√ß√£o Viva</h2>
  <p class="sim-intro">Observe como conhecimento nasce, cresce, conecta e morre. Cada c√≠rculo √© um Concept. Brilho = energia. Tamanho = confian√ßa. Linhas = Links.</p>

  <div class="sim-container">
    <canvas class="sim-canvas" id="garden"></canvas>
    <div class="sim-info" id="simInfo">
      Concepts: <span class="val" id="nConcepts">0</span><br>
      Links: <span class="val" id="nLinks">0</span><br>
      Ciclo: <span class="val" id="cycle">0</span><br>
      Archived: <span class="val" id="nArchived">0</span>
    </div>
    <div class="sim-controls">
      <button class="sim-btn active" onclick="simAction('seed')">üå± Semear</button>
      <button class="sim-btn" onclick="simAction('evidence')">‚ú¶ Evid√™ncia</button>
      <button class="sim-btn" onclick="simAction('decay')">üçÇ Decair</button>
      <button class="sim-btn" onclick="simAction('infer')">‚ö° Inferir</button>
      <button class="sim-btn" onclick="simAction('auto')">‚ñ∂ Auto</button>
    </div>
  </div>
</section>

<!-- CLOSING -->
<section class="closing">
  <h2>O Que Isso Significa</h2>
  <p>Cultivo Epist√™mico n√£o √© uma feature de produto. √â uma mudan√ßa paradigm√°tica na rela√ß√£o entre humanos e conhecimento organizacional.</p>
  <p>Pela primeira vez, uma estrutura de dados trata conhecimento com a mesma honestidade com que humanos pensam: "acho que sim, mas n√£o tenho certeza", "isso costumava ser verdade", "todo mundo concorda exceto o financeiro", "ningu√©m fala mais sobre isso".</p>
  <p>A Semantic n√£o armazena verdades. Ela cultiva entendimento.</p>

  <div class="final-thought">
    "A diferen√ßa entre uma ontologia e a Semantic<br>√© a diferen√ßa entre uma fotografia de um jardim<br>e o jardim em si."
  </div>
</section>

<script>
// === EPISTEMIC GARDEN SIMULATION ===
const canvas = document.getElementById('garden');
const ctx = canvas.getContext('2d');
let W, H;

function resize() {
  const rect = canvas.parentElement.getBoundingClientRect();
  W = canvas.width = rect.width * devicePixelRatio;
  H = canvas.height = rect.height * devicePixelRatio;
  canvas.style.width = rect.width + 'px';
  canvas.style.height = rect.height + 'px';
  ctx.scale(devicePixelRatio, devicePixelRatio);
}
resize();
window.addEventListener('resize', () => { resize(); });

const concepts = [];
const links = [];
let cycleCount = 0;
let autoMode = false;
let autoTimer = null;

const LABELS = [
  'Cliente', 'Fornecedor', 'Log√≠stica', 'Qualidade', 'Custo',
  'Entrega', 'Marketing', 'Produto', 'Equipe', 'Processo',
  'Risco', 'Mercado', 'Inova√ß√£o', 'Parceiro', 'Estrat√©gia',
  'Crescimento', 'Cultura', 'Vendas', 'Suporte', 'Dados',
  'KPI', 'Feedback', 'Roadmap', 'Sprint', 'Budget',
  'Compliance', 'Onboarding', 'Pipeline', 'Churn', 'NPS'
];

const COLORS = {
  Active: [74, 222, 128],
  Dormant: [251, 191, 36],
  Fading: [248, 113, 113],
  Archived: [107, 114, 128],
};

function makeConcept() {
  const rW = W / devicePixelRatio;
  const rH = H / devicePixelRatio;
  return {
    id: Math.random().toString(36).slice(2, 8),
    label: LABELS[Math.floor(Math.random() * LABELS.length)],
    x: 60 + Math.random() * (rW - 120),
    y: 40 + Math.random() * (rH - 100),
    vx: (Math.random() - 0.5) * 0.3,
    vy: (Math.random() - 0.5) * 0.3,
    freq: 0.3 + Math.random() * 0.5,
    conf: 0.05 + Math.random() * 0.15,
    energy: 0.5 + Math.random() * 0.5,
    state: 'Active',
  };
}

function seed(n = 3) {
  for (let i = 0; i < n; i++) {
    const c = makeConcept();
    concepts.push(c);
    if (concepts.length > 2 && Math.random() > 0.3) {
      const other = concepts[Math.floor(Math.random() * (concepts.length - 1))];
      if (other.id !== c.id && other.state !== 'Archived') {
        links.push({ a: c.id, b: other.id, strength: 0.1 + Math.random() * 0.3 });
      }
    }
  }
}

function addEvidence() {
  const alive = concepts.filter(c => c.state !== 'Archived');
  if (!alive.length) return;
  const target = alive[Math.floor(Math.random() * alive.length)];
  target.conf = Math.min(0.99, target.conf + 0.05 + Math.random() * 0.1);
  target.energy = Math.min(1.0, target.energy + 0.15);
  target.freq = Math.min(1.0, target.freq + (Math.random() > 0.5 ? 0.05 : -0.03));
  // Maybe add link
  if (Math.random() > 0.5 && alive.length > 1) {
    const other = alive[Math.floor(Math.random() * alive.length)];
    if (other.id !== target.id) {
      const existing = links.find(l =>
        (l.a === target.id && l.b === other.id) || (l.b === target.id && l.a === other.id)
      );
      if (existing) {
        existing.strength = Math.min(1.0, existing.strength + 0.1);
      } else {
        links.push({ a: target.id, b: other.id, strength: 0.15 });
      }
    }
  }
}

function decay() {
  cycleCount++;
  for (const c of concepts) {
    if (c.state === 'Archived') continue;
    c.energy *= (0.88 + Math.random() * 0.06);
    if (c.energy < 0.08) {
      c.state = 'Archived';
      c.energy = 0;
    } else if (c.energy < 0.2) {
      c.state = 'Fading';
    } else if (c.energy < 0.4) {
      c.state = 'Dormant';
    }
  }
  for (const l of links) {
    l.strength *= 0.93;
  }
}

function infer() {
  const alive = concepts.filter(c => c.state === 'Active');
  if (alive.length < 3) return;
  // Pick two linked concepts and create a transitive link
  const usableLinks = links.filter(l => {
    const a = concepts.find(c => c.id === l.a);
    const b = concepts.find(c => c.id === l.b);
    return a && b && a.state === 'Active' && b.state === 'Active';
  });
  if (usableLinks.length < 2) return;
  const l1 = usableLinks[Math.floor(Math.random() * usableLinks.length)];
  const l2 = usableLinks[Math.floor(Math.random() * usableLinks.length)];
  // Find if they share a node
  let pivot = null, end1 = null, end2 = null;
  if (l1.a === l2.a) { pivot = l1.a; end1 = l1.b; end2 = l2.b; }
  else if (l1.a === l2.b) { pivot = l1.a; end1 = l1.b; end2 = l2.a; }
  else if (l1.b === l2.a) { pivot = l1.b; end1 = l1.a; end2 = l2.b; }
  else if (l1.b === l2.b) { pivot = l1.b; end1 = l1.a; end2 = l2.a; }

  if (pivot && end1 !== end2) {
    const exists = links.find(l =>
      (l.a === end1 && l.b === end2) || (l.b === end1 && l.a === end2)
    );
    if (!exists) {
      const inferredStrength = l1.strength * l2.strength * 0.6;
      links.push({ a: end1, b: end2, strength: inferredStrength, inferred: true });
      // Boost energy of involved concepts
      const c1 = concepts.find(c => c.id === end1);
      const c2 = concepts.find(c => c.id === end2);
      if (c1) c1.energy = Math.min(1, c1.energy + 0.05);
      if (c2) c2.energy = Math.min(1, c2.energy + 0.05);
    }
  }
}

function simAction(action) {
  document.querySelectorAll('.sim-btn').forEach(b => b.classList.remove('active'));
  if (action === 'auto') {
    autoMode = !autoMode;
    if (autoMode) {
      event.target.classList.add('active');
      event.target.textContent = '‚è∏ Parar';
      autoTimer = setInterval(() => {
        if (Math.random() > 0.6) seed(1);
        if (Math.random() > 0.4) addEvidence();
        decay();
        if (Math.random() > 0.7) infer();
      }, 800);
    } else {
      event.target.textContent = '‚ñ∂ Auto';
      clearInterval(autoTimer);
    }
    return;
  }
  if (autoMode) {
    autoMode = false;
    clearInterval(autoTimer);
    document.querySelector('.sim-btn:last-child').textContent = '‚ñ∂ Auto';
  }
  event.target.classList.add('active');
  if (action === 'seed') seed(3);
  if (action === 'evidence') { addEvidence(); addEvidence(); addEvidence(); }
  if (action === 'decay') decay();
  if (action === 'infer') { infer(); infer(); }
}

function physics() {
  const rW = W / devicePixelRatio;
  const rH = H / devicePixelRatio;
  for (const c of concepts) {
    if (c.state === 'Archived') continue;
    // Repulsion between concepts
    for (const o of concepts) {
      if (o.id === c.id || o.state === 'Archived') continue;
      const dx = c.x - o.x, dy = c.y - o.y;
      const d = Math.sqrt(dx*dx + dy*dy) || 1;
      if (d < 80) {
        const f = (80 - d) * 0.02;
        c.vx += (dx/d) * f;
        c.vy += (dy/d) * f;
      }
    }
    // Link attraction
    for (const l of links) {
      const isA = l.a === c.id, isB = l.b === c.id;
      if (!isA && !isB) continue;
      const oId = isA ? l.b : l.a;
      const o = concepts.find(cc => cc.id === oId);
      if (!o || o.state === 'Archived') continue;
      const dx = o.x - c.x, dy = o.y - c.y;
      const d = Math.sqrt(dx*dx + dy*dy) || 1;
      if (d > 60) {
        const f = (d - 60) * 0.003 * l.strength;
        c.vx += (dx/d) * f;
        c.vy += (dy/d) * f;
      }
    }
    c.vx *= 0.92;
    c.vy *= 0.92;
    c.x += c.vx;
    c.y += c.vy;
    c.x = Math.max(20, Math.min(rW - 20, c.x));
    c.y = Math.max(20, Math.min(rH - 40, c.y));
  }
}

function draw() {
  const rW = W / devicePixelRatio;
  const rH = H / devicePixelRatio;
  ctx.clearRect(0, 0, rW, rH);

  // Links
  for (const l of links) {
    if (l.strength < 0.02) continue;
    const a = concepts.find(c => c.id === l.a);
    const b = concepts.find(c => c.id === l.b);
    if (!a || !b) continue;
    if (a.state === 'Archived' && b.state === 'Archived') continue;
    ctx.beginPath();
    ctx.moveTo(a.x, a.y);
    ctx.lineTo(b.x, b.y);
    const alpha = l.strength * 0.4;
    if (l.inferred) {
      ctx.strokeStyle = `rgba(167,139,250,${alpha})`;
      ctx.setLineDash([4, 4]);
    } else {
      ctx.strokeStyle = `rgba(74,222,128,${alpha})`;
      ctx.setLineDash([]);
    }
    ctx.lineWidth = l.strength * 2;
    ctx.stroke();
    ctx.setLineDash([]);
  }

  // Concepts
  for (const c of concepts) {
    const col = COLORS[c.state];
    const r = 4 + c.conf * 20;
    const glow = c.energy;

    if (c.state !== 'Archived' && glow > 0.1) {
      const grad = ctx.createRadialGradient(c.x, c.y, 0, c.x, c.y, r + 15);
      grad.addColorStop(0, `rgba(${col[0]},${col[1]},${col[2]},${glow * 0.25})`);
      grad.addColorStop(1, 'transparent');
      ctx.fillStyle = grad;
      ctx.beginPath();
      ctx.arc(c.x, c.y, r + 15, 0, Math.PI * 2);
      ctx.fill();
    }

    ctx.beginPath();
    ctx.arc(c.x, c.y, r, 0, Math.PI * 2);
    ctx.fillStyle = `rgba(${col[0]},${col[1]},${col[2]},${0.2 + glow * 0.6})`;
    ctx.fill();
    ctx.strokeStyle = `rgba(${col[0]},${col[1]},${col[2]},${0.3 + glow * 0.5})`;
    ctx.lineWidth = 1;
    ctx.stroke();

    if (c.state !== 'Archived' && r > 8) {
      ctx.fillStyle = `rgba(228,231,240,${0.3 + glow * 0.5})`;
      ctx.font = `${Math.max(9, r * 0.7)}px DM Sans`;
      ctx.textAlign = 'center';
      ctx.fillText(c.label, c.x, c.y + r + 12);
    }
  }

  // Update info
  const alive = concepts.filter(c => c.state !== 'Archived');
  const archived = concepts.filter(c => c.state === 'Archived');
  const activeLinks = links.filter(l => l.strength >= 0.02);
  document.getElementById('nConcepts').textContent = alive.length;
  document.getElementById('nLinks').textContent = activeLinks.length;
  document.getElementById('cycle').textContent = cycleCount;
  document.getElementById('nArchived').textContent = archived.length;
}

function loop() {
  physics();
  draw();
  requestAnimationFrame(loop);
}

// Initial seed
seed(6);
loop();
</script>

</body>
</html>
